{{#if this.model.shortTitle}}
  {{page-title this.model.shortTitle}}
{{else if this.model.title}}
  {{page-title this.model.title}}
{{else}}
  {{page-title (capitalize this.model.subcaseName)}}
{{/if}}

<Subcases::SubcasesOverviewHeader
  @decisionmakingFlow={{this.decisionmakingFlow}}
  @onCreateSubcase={{this.refreshSubcases}}
  @onSaveCase={{perform this.saveCase}}
  @currentRoute={{this.currentRoute}}
  @submission={{true}}
  @documents={{true}}
/>
<div class="auk-panel-layout">
  <div class="auk-panel-layout__main-content">
    <AuBodyContainer>
      {{#if this.model.decisionmakingFlow.subcases}}
      <Subcases::SubcaseHeader
        @subcase={{this.model}}
        @onMoveSubcase={{this.refreshSubcases}}
        @onProposedForAgenda={{this.refreshSubcases}}
        @currentRoute={{this.currentRoute}}
        @submission={{true}}
        @documents={{true}}
      />
      <AuBodyContainer @scroll={{true}}>
        <div class="auk-scroll-wrapper">
          <div class="auk-scroll-wrapper__body">
            <div class="auk-u-m-4 js-subcase-nav-observer">
              {{outlet}}
            </div>
          </div>
          {{#if (or (eq this.impersonation.role.label 'Kabinetsdossierbeheerder')(eq this.currentSession.role.label 'Kabinetsdossierbeheerder'))}}
          <AuToolbar
            @reverse={{true}}
            @size="large"
            @border="top"
            as |Group|>
            <Group>
              <AuLink
                @skin="button-secondary"
                @route="cases.case.subcases"
              >
                Annuleer
              </AuLink>
              <AuLink
                @skin="button"
                @route="cases.submissions"
              >
                Dien update in
              </AuLink>
            </Group>
          </AuToolbar>
          {{/if}}
        </div>
      </AuBodyContainer>
      {{else}}
      <div class="auk-u-m-4">
        <Auk::EmptyState @message={{t "no-subcases"}} />
      </div>
      {{/if}}
    </AuBodyContainer>
  </div>
</div>