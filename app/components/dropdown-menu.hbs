<Auk::Button
  @skin={{@skin}}
  @disabled={{@disabled}}
  @layout={{if @label "icon-right" "icon-only"}}
  @icon={{this.icon}}
  ...attributes
  {{on "click" this.toggleDropdown}}
>
  <:default>
    {{@label}}
  </:default>
  <:floater>
    <AttachPopover
      @renderInPlace={{true}}
      @class="ember-attacher-popper"
      {{!-- Apart from "hide on clickout" all open/close logic is handled by our own implementation --}}
      @hideOn="clickout"
      @showOn=""
      @onChange={{this.setDropdownStatus}}
      @isShown={{this.isOpen}}
      @animation="shift"
      @placement={{this.placement}}
    >
      <Auk::Menu
        {{!-- TODO We do not need this manual toggle when clicking an option, this causes issues (2 "on click" on 1 menu item) --}}
        {{!-- {{on "click" this.toggleDropdown}} --}}
      as |Menu|>
        {{yield Menu}}
      </Auk::Menu>
    </AttachPopover>
  </:floater>
</Auk::Button>