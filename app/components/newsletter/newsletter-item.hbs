{{!-- TODO: octane-refactor --}}
{{!-- template-lint-disable no-action --}}
{{#if (is-pending this.newsletterInfo)}}
  <WebComponents::VlLoader @text={{t "newsletter-info-loading-text"}} />
{{else if (not this.isEditing)}}
  {{#if (not this.allowEditing)}}
    {{#if (await this.newsletterInfo.inNewsletter)}}
      <Newsletter::NewsletterItem::ItemContent
        @allowEditing={{this.allowEditing}}
        @onStartEditing={{action "startEditing"}}
        @itemIndex={{this.itemIndex}}
        @showIndex={{this.showIndex}}
        @isEditing={{this.isEditing}}
        @agendaitem={{this.agendaitem}}
        @newsletterInfo={{this.newsletterInfo}}
      />
    {{/if}}
  {{else}}
    <Newsletter::NewsletterItem::ItemContent
      @allowEditing={{this.allowEditing}}
      @onStartEditing={{action "startEditing"}}
      @itemIndex={{this.itemIndex}}
      @showIndex={{this.showIndex}}
      @isEditing={{this.isEditing}}
      @agendaitem={{this.agendaitem}}
      @newsletterInfo={{this.newsletterInfo}}
    />
  {{/if}}
{{else}}
  <Agenda::Agendaitem::AgendaitemNewsItemEdit
    @agendaitem={{this.agendaitem}}
    @newsletterInfo={{this.newsletterInfo}}
    @onSave={{action "stopEditing"}}
    @onCancel={{action "stopEditing"}}
  />
{{/if}}