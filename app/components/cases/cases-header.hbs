<Auk::Navbar @skin="gray-100">
  <Auk::Toolbar @auto={{true}} as |Toolbar|>
    <Toolbar.Group @position="left" class="au-u-visible-from@small" as |Group|>
      <Group.Item>
        <h1 data-test-cases-header-title class="auk-toolbar__title">
          {{t "cases"}}
        </h1>
      </Group.Item>
    </Toolbar.Group>
    <Toolbar.Group @position="right" as |Group|>
      {{#if this.isInCasesRoute}}
        <Group.Item class="auk-o-flex au-u-padding-tiny">
          {{#if this.filterText}}
            <AuButton
              data-test-cases-header-clear-filter
              @skin="naked"
              @icon="undo"
              @hideText={{true}}
              {{on "click" this.clearFilter}}
            >
              {{t "clear-filter"}}
            </AuButton>
          {{/if}}
          <AuInput
            data-test-cases-header-filter-input
            placeholder={{t "search-case-title"}}
            autocomplete="off"
            value={{this.filterText}}
            @width="block"
            @icon="search"
            {{on "input" this.onInputFilter}}
          />
        </Group.Item>
        {{#if (user-may "manage-cases")}}
          <Group.Item>
            <AuButton
                data-test-cases-header-add-case
                @skin="primary"
                @icon="plus"
                {{on "click" (toggle "isOpenNewCaseAddSubcaseModal" this)}}
            >
                {{t "add-case"}}
            </AuButton>
          </Group.Item>
        {{/if}}
      {{/if}}
      {{#if this.mayCreateSubmissions}}
        <Group.Item>
          <AuLink
            @skin="button"
            @icon="plus"
            @route="cases.new-submission"
          >
            {{t "submit-agendaitem"}}
          </AuLink>
        </Group.Item>
      {{/if}}
    </Toolbar.Group>
  </Auk::Toolbar>
</Auk::Navbar>

{{#if this.isOpenNewCaseAddSubcaseModal}}
  <Cases::NewCase
    @didSave={{this.saveNewCaseAddSubcase}}
    @onCancel={{toggle "isOpenNewCaseAddSubcaseModal" this}}
  />
{{/if}}
