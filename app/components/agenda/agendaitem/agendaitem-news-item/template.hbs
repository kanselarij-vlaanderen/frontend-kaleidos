{{!-- {{#if showNewsItemIsEditedWarning}}
  {{changes-alert
    message=(t "newsitem-changed-message")
    buttonText=(t "close")
    clearAction=(action "clearShowNewsItemIsEditedWarning")
  }}
{{/if}}
{{#if showNoNotaIsAddedWarning}}
  {{changes-alert
    message=(t "newsitem-changed-no-note-message")
    buttonText=(t "close")
    clearAction=(action "clearShowNoNotaIsAddedWarning")
  }}
{{/if}} --}}
{{#if (not isEditing)}}
  <div class="vl-u-spacer">
    <div class="vl-u-display-flex vl-u-flex-align-baseline">
      <h3 class="vl-title vl-title--h3">
        {{t "newsletter-title"}}
      </h3>
      {{#if isEditor}}
        <div class="vl-u-spacer-extended-left-s">
          <a href="" class="vl-link" {{action "toggleIsEditing"}}>
            {{t "edit"}}
          </a>
        </div>
      {{/if}}
    </div>
  </div>
  <div class="vl-u-spacer-extended-bottom-s">
    <h3 class="vl-title vl-title--h6">
      {{await subcase.newsletterInfo.title}}
    </h3>
  </div>
  <div class="vl-u-spacer-extended-bottom-s">
    <div class="vl-typography">
      <p class="vl-u-text--italic">
        {{await subcase.newsletterInfo.newsletterProposal}}
      </p>
      <p>
        {{sanitize-html
          raw=true
          value=(await subcase.newsletterInfo.richtext)
        }}
      </p>
    </div>
  </div>
  <p class="vl-u-text--muted vl-u-text--capitalize vl-u-text--small">
    {{await subcase.newsletterInfo.displayRemark}}
  </p>
  <div class="vl-u-spacer-extended-bottom-s vl-u-spacer-extended-top-s">
    {{#if (is-pending subcase.newsletterInfo.themes)}}
      {{web-components/vl-loader text=(t "themes-loading-text")}}
    {{else if (gt (await subcase.newsletterInfo.themes.length) 0)}}
      <ul>
        {{#each
          (await subcase.newsletterInfo.themes)
        as |theme|
        }}
          <li class="vl-pill">
            {{theme.label}}
          </li>
        {{/each}}
      </ul>
    {{else}}
      <div class="vl-u-spacer-extended-top-s">
        {{web-components/vl-alert message=(t "no-themes-yet")}}
      </div>
    {{/if}}
  </div>

  <hr/>
  <div class="vl-u-spacer vl-u-spacer-extended-top-s">
    {{#if (await subcase.newsletterInfo.finished)}}
      <div class="vlc-pill vlc-pill--success">
        {{t "finished"}}
      </div>
    {{else}}
      <div class="vlc-pill vlc-pill--warning">
        {{t "not-finished"}}
      </div>
    {{/if}}
  </div>

{{else}}
  {{news-item/edit-item
    subcase=(await subcase)
    item=(await subcase.newsletterInfo)
    agendaitem=agendaitem
    isEditing=isEditing
  }}
{{/if}}
