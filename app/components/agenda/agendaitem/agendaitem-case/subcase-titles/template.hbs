{{#if (and (await item.subcase.case.id) currentSession.isEditor)}}
  <div class="vl-u-spacer-extended-bottom-s">
    <div class="vl-u-display-flex vlc-u-flex-align-baseline">
      <LinkTo
        @route="cases.case.subcases.subcase.overview"
        @models={{array (await item.subcase.case.id) (await item.subcase.id)}}
        class="vl-link" >
        {{t "to-subcase"}}
      </LinkTo>
    </div>
  </div>
{{/if}}
<div class="vl-u-spacer-extended-bottom-s">
  <div class="vl-u-display-flex vlc-u-display-flex-align-center">
    <h2 class="vlc-subline">
      {{#if (not item.showAsRemark)}}
        {{t "note"}}
      {{else}}
        {{t "text"}}
      {{/if}}
    </h2>
    {{#if currentSession.isEditor}}
      <div class="vl-u-spacer-extended-left-s" data-test-agendaitem-edit-link>
        <a
          data-test-subcase-titles-edit
          href=""
          class="vl-link"
          {{action "toggleIsEditingAction"}}
        >
          {{t "edit"}}
        </a>
      </div>
    {{/if}}
  </div>
</div>
<div class="vl-u-spacer-extended-bottom-s">
  <h4 class="vl-title vl-title--h4">
    <pre>
      {{await item.shortTitle}}
    </pre>
  </h4>
</div>
<div class="vl-u-spacer-extended-bottom-s">
  {{#if (await shouldShowDetails)}}
    <pre class="vlc-u-flex-inline-flex vlc-u-pre-line-wrap">
      {{await item.title}}
    </pre>
  {{/if}}
</div>

{{#if (not item.showAsRemark)}}
  <div class="vl-u-spacer-extended-bottom-s">
    {{#if (await subcaseName)}}
      <span class={{await pillClass}}>
        {{await subcaseName}}
      </span>
    {{/if}}
  </div>
  {{#if (await item.isPostponed)}}
    <div class="vl-u-spacer-extended-bottom-s">
      <div class="pill-container vl-u-display-flex">
        <span class="vl-pill vl-u-text--capitalize">
          {{t "postponed-item"}}
        </span>
      </div>
    </div>
  {{/if}}
{{else}}
  {{#if (not isSubcaseView) }}
    <div class="vl-u-spacer-extended-bottom-s">
      <div class="pill-container vl-u-display-flex">
        {{#if (not-eq null (await item.showInNewsletter))}}
          <span
                  class="vlc-pill
          {{if (await item.showInNewsletter) "vlc-pill--success" "vlc-pill--error"}}
          vl-u-spacer-extended-right-s"
          >
            {{#if (await item.showInNewsletter)}}
              <span>
                {{t "visible-in-newsletter"}}
              </span>
            <i
                    class="vl-button__icon vl-vi vl-vi-view-add vl-u-spacer-extended-left-s"
            ></i>
            {{else}}
              <span>
                {{t "hidden-in-newsletter"}}
              </span>
            <i
                    class="vl-button__icon vl-vi vl-vi-hide vl-u-spacer-extended-left-s"
            ></i>
            {{/if}}
          </span>
        {{/if}}
      </div>
    </div>
  {{/if}}
{{/if}}
<div class="vl-u-spacer-extended-bottom-s">
  <div
          class="pill-container vl-u-display-flex"
          data-test-agenda-subcasehidden-pill
  >
    {{#if isAgendaItem}}
      {{#if (and currentSession.isEditor (await item.formallyOkToShow))}}
        <span
                class="{{item.formallyOkToShow.pillClassNames}}
             vl-u-spacer-extended-right-s"
        >
          {{item.formallyOkToShow.label}}
        </span>
      {{/if}}
    {{/if}}
    {{#if (await confidential)}}
      <span class="vlc-pill vl-icon vlc-pill--error vl-vi vl-vi-lock"></span>
    {{else}}
      <span
              class="vlc-pill vl-u-spacer-extended-right-s vl-icon vlc-pill--success vl-vi vl-vi-lock-unlock"
      ></span>
    {{/if}}
  </div>
</div>
{{#if isAgendaItem}}
  <div class="vl-u-spacer-extended-bottom-s">
    {{#if item.explanation}}
      <pre class="vl-u-text--muted vlc-u-flex-inline-flex vlc-u-pre-line-wrap">
        {{t "remark-title"}}: {{await item.explanation}}
      </pre>
    {{/if}}
  </div>
{{/if}}