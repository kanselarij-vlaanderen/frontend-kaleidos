{{#if loading}}
  <div class="vl-loader" role="alert" aria-busy="true"></div>
{{else}}
  {{#if (not lastDocumentVersion.confidential)}}
    {{#if (not editing)}}
      <div class="pill-wrap" data-test-access-level-pill {{action "toggleEdit"}}>
        <span class="vlc-pill {{accessLevelClass}}">
          {{accessLevelLabel}}
        </span>
      </div>
    {{else}}
      <div class="vl-form__input" style="width:75%">
        <Utils::ModelSelector
          data-test-model-selector
          @modelName="access-level"
          @allowClear={{true}}
          @hideSearch={{true}}
          @propertyToShow="label"
          @readOnly={{lastDocumentVersion.confidential}}
          @sortField="priority"
          @selectedItems={{accessLevel}}
          @selectModel={{action "chooseAccessLevel"}} />
      </div>
      <button data-test-access-level-save type="button" class="vl-button vl-button--link vl-button--icon"
        {{action "save"}}
      >
        <i class="ki-check vl-button__icon" aria-hidden="true"></i>
        <span class="vl-u-visually-hidden">
          {{t "more-options"}}
        </span>
      </button>
      <button type="button" class="vl-button vl-button--link vl-button--icon"
        {{action "cancelChanges"}}
      >
        <i class="ki-cross vl-button__icon" aria-hidden="true"></i>
        <span class="vl-u-visually-hidden">
          {{t "more-options"}}
        </span>
      </button>
    {{/if}}
  {{/if}}
  <button type="button" class="vl-button vl-button--link-muted vl-button--icon vlc-toolbar__item"
          disabled={{if session.isEditor undefined "true"}}
    {{action "toggleConfidential"}}
  >
    {{#if lastDocumentVersion.confidential}}
      <i class="vl-icon ki-lock-closed vl-u-text--error"
      ></i>
    {{else}}
      <i class="vl-icon ki-lock-open"></i>
    {{/if}}
  </button>
  {{yield}}
{{/if}}
